# 2. Управление групповыми политиками доступа

## Введение
В рамках курса **"Администрирование Windows и работа с PowerShell"** я изучил тему **"Управление групповыми политиками доступа"**. Эта тема охватывает ключевые аспекты настройки и применения групповых политик (GPO) 
для управления доступом пользователей и компьютеров в доменной среде.

---

## Основные концепции

### 1. Групповые политики (GPO)
- **Групповые политики**: Инструмент для централизованного управления настройками пользователей и компьютеров в доменной среде.
- **Пример**: Настройка политик паролей, блокировка доступа к определенным функциям системы.

### 2. Объекты групповой политики (GPO)
- **Создание и настройка GPO**: Использование Group Policy Management Console (GPMC) для создания и настройки объектов групповой политики.
- **Пример**: Создание GPO для ограничения доступа к панели управления.

### 3. Применение GPO
- **Применение политик**: Настройка порядка применения политик (наследование, принудительное применение, блокировка наследования).
- **Пример**: Применение политики для всех пользователей домена, кроме администраторов.

### 4. Аудит и мониторинг GPO
- **Аудит политик**: Использование инструментов для мониторинга и аудита применения групповых политик.
- **Пример**: Проверка, какие политики применяются к конкретному пользователю или компьютеру.

---

## Практическая работа: Настройка и применение групповых политик доступа

### Цель практической работы
Освоить навыки настройки и применения групповых политик для управления доступом пользователей и компьютеров в доменной среде.

---

### Задание 1. Настройка виртуальной сети и домена

#### Что нужно сделать
1. Настроить виртуальные машины (сервер и клиент) и подключить их к сети.
2. Создать домен `example.org`.
3. Настроить пользователей с различными привилегиями.

#### Шаги выполнения

1. **Настройка виртуальных машин**:
   - Установить Windows Server 2019 и Windows 10 на виртуальные машины.
   - Настроить сетевые параметры:
     - Сервер: IP-адрес `192.168.1.253`, маска `255.255.255.0`, шлюз `192.168.1.1`.
     - Клиент: IP-адрес `192.168.1.252`, маска `255.255.255.0`, DNS-сервер `192.168.1.253`.

2. **Создание домена**:
   - На сервере установить роль Active Directory Domain Services (AD DS).
   - Создать домен `example.org`.

3. **Настройка пользователей**:
   - Создать пользователей:
     - `user2` — обычный пользователь домена.
     - `user3` — пользователь домена с правами администратора.

4. **Подключение клиента к домену**:
   - Подключить клиентскую машину к домену `example.org`.

---

### Задание 2. Создание и применение GPO

#### Что нужно сделать
1. Создать объект групповой политики `Probe`.
2. Настроить политику для пользователей `user2` и `user3`:
   - Скрыть область уведомлений на панели задач.
   - Удалить закрепленные программы с панели задач.
   - Отключить приложение Store.

#### Шаги выполнения

1. **Создание GPO**:
   - Открыть Group Policy Management Console (GPMC).
   - Создать новый объект групповой политики с именем `Probe`.

2. **Настройка политики**:
   - В редакторе групповых политик настроить следующие параметры:
     - Скрыть область уведомлений:  
       `User Configuration → Administrative Templates → Start Menu and Taskbar → Hide the notification area`.
     - Удалить закрепленные программы:  
       `User Configuration → Administrative Templates → Start Menu and Taskbar → Remove pinned programs from the Taskbar`.
     - Отключить приложение Store:  
       `User Configuration → Administrative Templates → Windows Components → Store → Turn off the Store application`.

3. **Применение GPO**:
   - Связать GPO `Probe` с организационным подразделением (OU), содержащим пользователей `user2` и `user3`.

4. **Проверка применения политики**:
   - Войти под учетной записью `user2` и убедиться, что политики применяются.

---

### Задание 3. Установка и удаление ПО через GPO

#### Что нужно сделать
1. Установить приложение (например, Firefox) на клиентскую машину с помощью групповой политики.
2. Удалить приложение через GPO.

#### Шаги выполнения

1. **Установка приложения**:
   - Создать новый GPO для установки приложения.
   - В редакторе групповых политик настроить установку MSI-пакета:
     - `Computer Configuration → Policies → Software Settings → Software Installation`.
   - Указать путь к MSI-файлу (например, Firefox).

2. **Удаление приложения**:
   - В том же GPO настроить удаление приложения:
     - `Computer Configuration → Policies → Software Settings → Software Installation`.
   - Выбрать опцию "Uninstall the software when it falls out of the scope of management".

3. **Проверка установки и удаления**:
   - Убедиться, что приложение установлено и удалено на клиентской машине.

---

### Задание 4. Настройка WSUS через GPO

#### Что нужно сделать
1. Установить и настроить службу WSUS на сервере.
2. Настроить групповые политики клиента для получения обновлений с сервера WSUS.

#### Шаги выполнения

1. **Установка WSUS**:
   - Установить роль Windows Server Update Services (WSUS) на сервере.
   - Настроить WSUS для получения обновлений с серверов Microsoft.

2. **Настройка GPO для клиентов**:
   - Создать GPO для настройки клиентов:
     - `Computer Configuration → Policies → Administrative Templates → Windows Components → Windows Update`.
   - Указать адрес сервера WSUS в параметрах политики.

3. **Проверка работы WSUS**:
   - Убедиться, что клиенты получают обновления с сервера WSUS.

---

## Вывод и обобщение

### Что было изучено:
- Навыки настройки и применения групповых политик для управления доступом.
- Установка и удаление ПО через GPO.
- Настройка WSUS для централизованного управления обновлениями.

### Что было сделано:
- Настроена виртуальная сеть и домен.
- Созданы и применены GPO для управления доступом пользователей.
- Установлено и удалено ПО через GPO.
- Настроена служба WSUS.

### Результаты:
- Успешно выполнены все шаги практической работы.
- Освоены навыки управления групповыми политиками доступа.

### Заключение
В ходе изучения темы **"Управление групповыми политиками доступа"** я освоил ключевые аспекты настройки и применения GPO для управления доступом пользователей и компьютеров в доменной среде. Практическая работа 
помогла закрепить знания по созданию и применению групповых политик, что важно для обеспечения безопасности и управления корпоративными системами.
